{# templates/employee/import.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Import des employés{% endblock %}

{% block body %}
    <div class="container">
        <h1>Import des employés</h1>
        
        {% for label, messages in app.flashes %}
            {% for message in messages %}
                <div class="alert alert-{{ label }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endfor %}
        
        {% if message %}
            <div class="alert alert-success">
                {{ message }}
            </div>
        {% endif %}
        
        {{ form_start(form) }}
            {{ form_row(form.csvFile) }}
            <button type="submit" class="btn btn-primary">Importer</button>
        {{ form_end(form) }}
        
        {% if errors is defined and errors|length > 0 %}
            <div class="mt-4">
                <h3>Détail des erreurs ({{ errors|length }})</h3>
                <div class="alert alert-danger">
                    <ul>
                        {% for error in errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        {% endif %}
    </div>
{% endblock %}